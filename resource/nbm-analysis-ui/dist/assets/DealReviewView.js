import{d as _,u as h,c as b,a as l,b as e,f as y,i as c,t as a,n as f,F as x,g as p,h as w,o as n}from"./index.js";const k={class:"deal-review-view p-8"},C={class:"max-w-4xl mx-auto"},R={key:0,class:"text-center py-12"},D={class:"bg-white rounded-lg shadow-md p-8 max-w-md mx-auto"},j=["disabled"],V={key:1,class:"space-y-6"},B={class:"bg-white rounded-lg shadow-md overflow-hidden"},G={class:"flex items-center gap-3 mb-2"},A={class:"text-3xl"},L={class:"text-2xl font-bold text-gray-800"},N={class:"text-gray-700 mt-2"},z={class:"bg-white rounded-lg shadow-md p-6"},F={class:"space-y-3"},H={class:"font-bold text-red-600 mt-0.5"},S={class:"text-gray-800 flex-1"},T={class:"bg-white rounded-lg shadow-md p-6"},M={class:"space-y-3"},O={class:"flex items-start gap-3"},E={class:"font-bold text-blue-600 mt-0.5"},$={class:"text-gray-800 flex-1"},q=["onClick"],I={class:"text-center pt-4"},J=["disabled"],U=_({__name:"DealReviewView",setup(K){const i=h(),s=b(()=>{var o,t;return(t=(o=i.currentAnalysis)==null?void 0:o.deal_review)==null?void 0:t.deal_review}),g=b(()=>!!s.value);async function u(){try{await i.generateDealReview()}catch(o){console.error("Failed to generate deal review:",o)}}function v(o){navigator.clipboard.writeText(o)}function m(){var o;if((o=s.value)!=null&&o.next_call_objectives){const t=s.value.next_call_objectives.join(`

`);v(t)}}return(o,t)=>(n(),l("div",k,[e("div",C,[t[7]||(t[7]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"Deal Review"),e("p",{class:"text-gray-600"}," Honest assessment of deal strength and next steps ")],-1)),g.value?s.value?(n(),l("div",V,[e("div",B,[e("div",{class:f(["p-6",s.value.stage_readiness==="Ready for Demo"?"bg-green-100 border-l-4 border-green-600":"bg-yellow-100 border-l-4 border-yellow-600"])},[e("div",G,[e("span",A,a(s.value.stage_readiness==="Ready for Demo"?"âœ…":"ðŸ”"),1),e("h2",L,a(s.value.stage_readiness),1)]),e("p",N,a(s.value.confidence_note),1)],2)]),e("div",z,[t[3]||(t[3]=e("div",{class:"flex items-center gap-2 mb-4"},[e("span",{class:"text-2xl"},"âš ï¸"),e("h3",{class:"text-xl font-bold text-gray-800"},"Critical Gaps")],-1)),e("div",F,[(n(!0),l(x,null,p(s.value.critical_gaps,(r,d)=>(n(),l("div",{key:d,class:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg"},[e("span",H,a(d+1)+".",1),e("p",S,a(r),1)]))),128))])]),e("div",T,[e("div",{class:"flex items-center justify-between mb-4"},[t[5]||(t[5]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-2xl"},"ðŸŽ¯"),e("h3",{class:"text-xl font-bold text-gray-800"},"Next Call Objectives")],-1)),e("button",{onClick:m,class:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1"},[...t[4]||(t[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),w(" Copy All ",-1)])])]),e("div",M,[(n(!0),l(x,null,p(s.value.next_call_objectives,(r,d)=>(n(),l("div",{key:d,class:"group relative p-4 bg-blue-50 border border-blue-200 rounded-lg hover:shadow-md transition-shadow"},[e("div",O,[e("span",E,a(d+1)+".",1),e("p",$,a(r),1),e("button",{onClick:P=>v(r),class:"opacity-0 group-hover:opacity-100 transition-opacity text-blue-600 hover:text-blue-700",title:"Copy to clipboard"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])],8,q)])]))),128))])]),e("div",I,[e("button",{onClick:u,disabled:c(i).isLoading,class:"text-blue-600 hover:text-blue-700 font-medium underline disabled:text-gray-400 disabled:no-underline"}," Regenerate Deal Review ",8,J)])])):y("",!0):(n(),l("div",R,[e("div",D,[t[0]||(t[0]=e("div",{class:"mb-4 text-5xl"},"ðŸ“‹",-1)),t[1]||(t[1]=e("h2",{class:"text-xl font-bold text-gray-800 mb-2"},"Ready for Deal Review?",-1)),t[2]||(t[2]=e("p",{class:"text-gray-600 mb-6"}," Get an honest assessment of this opportunity's readiness and identify critical gaps ",-1)),e("button",{onClick:u,disabled:c(i).isLoading,class:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},a(c(i).isLoading?"Generating...":"Generate Deal Review"),9,j)])]))])]))}});export{U as default};
